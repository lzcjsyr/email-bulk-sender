# ====================================
# 邮箱配置 - 必填项
# ====================================

# SMTP 服务器地址
# 常见邮箱服务商配置：
#   QQ邮箱:        smtp.qq.com
#   163邮箱:       smtp.163.com
#   Gmail:         smtp.gmail.com
#   腾讯企业邮箱:   smtp.exmail.qq.com
#   阿里企业邮箱:   smtp.qiye.aliyun.com
SMTP_SERVER=smtp.exmail.qq.com

# SMTP 端口
# 常用端口：
#   587 - STARTTLS (推荐，大多数服务商支持)
#   465 - SSL/TLS
#   25  - 不加密 (不推荐)
SMTP_PORT=587

# 发件人邮箱地址
SENDER_EMAIL=your_email@example.com

# 邮箱密码或授权码
# ⚠️ 重要提示：
#   - 某些邮箱（如QQ、163）需要使用"授权码"而非登录密码
#   - 授权码获取方式：登录邮箱 → 设置 → 账户 → 开启SMTP服务 → 生成授权码
#   - Gmail 需要开启"允许不够安全的应用访问"或使用应用专用密码
SENDER_PASSWORD=your_password_or_auth_code

# ====================================
# 发送配置 - 可选项
# ====================================

# 每批邮件发送后的延迟时间（秒）
# 建议：5-10秒，避免被邮箱服务商识别为垃圾邮件
DELAY_BETWEEN_EMAILS=5

# 每批发送的邮件数量
# 建议：10-50封，具体取决于邮箱服务商限制
EMAILS_PER_BATCH=10

# 测试模式（Dry Run）
# 设置为 true 时，不会实际发送邮件，仅模拟发送流程
# 用于测试配置和邮件内容是否正确
# 正式发送时请设置为 false 或删除此行
# DRY_RUN=false

# ====================================
# 邮件安全配置 - 可选项(提高送达率)
# ====================================

# DKIM签名配置(可选，但强烈建议配置以提高Gmail等邮箱的送达率)
# DKIM域名(通常是发件邮箱的域名，例如: example.com)
# DKIM_DOMAIN=example.com

# DKIM选择器(DNS记录中的选择器，例如: default, mail, dkim)
# DKIM_SELECTOR=default

# DKIM私钥文件路径(相对于项目根目录)
# 生成密钥对: openssl genrsa -out dkim_private.key 2048
# 提取公钥: openssl rsa -in dkim_private.key -pubout -out dkim_public.key
# DKIM_PRIVATE_KEY_PATH=dkim_private.key

# 回复地址(可选，如果与发件地址不同)
# REPLY_TO_EMAIL=reply@example.com

# 退订邮箱(可选，用于接收退订请求)
# UNSUBSCRIBE_EMAIL=unsubscribe@example.com

# 启用发送前安全检查(SPF/DMARC/内容检查/IP信誉)
# 建议开启，可以发现潜在问题
# ENABLE_PRE_SEND_CHECKS=true

# 启用HTML邮件(如果template.py中配置了EMAIL_BODY_HTML)
# HTML邮件可以提高显示效果和送达率
# ENABLE_HTML_EMAIL=true

# ====================================
# 配置说明
# ====================================
# 1. 复制此文件为 .env（删除 .example 后缀）
# 2. 根据您的邮箱服务商修改 SMTP_SERVER 和 SMTP_PORT
# 3. 填写您的邮箱地址和密码/授权码
# 4. 邮件内容在 通用邮件群发/template.py 中配置
# 5. 不要将 .env 文件分享或上传到公共代码库
#
# 6. 【重要】提高Gmail等邮箱送达率的配置:
#    a) 配置SPF记录: 在DNS中添加TXT记录
#       例如: v=spf1 include:_spf.google.com ~all
#    b) 配置DKIM签名: 生成密钥对并配置DKIM_*变量
#       在DNS中添加DKIM公钥的TXT记录
#    c) 配置DMARC策略: 在DNS中添加_dmarc子域的TXT记录
#       例如: v=DMARC1; p=none; rua=mailto:dmarc@example.com
#    d) 使用HTML邮件: 设置ENABLE_HTML_EMAIL=true
#    e) 启用发送前检查: 设置ENABLE_PRE_SEND_CHECKS=true
#
# 7. DNS配置示例(需要在域名管理后台设置):
#    SPF:   @ TXT "v=spf1 include:_spf.google.com ~all"
#    DKIM:  default._domainkey TXT "v=DKIM1; k=rsa; p=公钥内容"
#    DMARC: _dmarc TXT "v=DMARC1; p=quarantine; rua=mailto:dmarc@example.com"
# ====================================